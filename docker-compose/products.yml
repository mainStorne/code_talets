
services:

  products:
    build:
      context: ./djangoApp
      dockerfile: ./Dockerfile
    volumes:
      - ./djangoApp:/src
    env_file:
      - ./.env
    environment:
      POSTGRES_HOST: postgres
      POSTGRES_DB: products
      TOKEN_URL: http://localhost/api/accounts/auth/jwt/login
      API_GATEWAY: http://nginx/api
      REDIS_HOST: redis

    depends_on:
      - postgres
      - redis
    container_name: products
    networks:
      - products_network
      - redis_network

networks:
  products_network:
